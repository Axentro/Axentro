<html>

<head>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootswatch/4.3.1/spacelab/bootstrap.min.css">
</head>

<body>
  <div class="container">
	  <br/>
    <h3>Transactions</h3>
    <p>You can send tokens from your wallet to another wallet either in fast or slow mode.</p>
    <br/>

      <h4>Slow transactions</h4>
      <br/>

      <div spinach:scenario="scenario 1: sending SUSHI">
	      Given I have <b spinach:set="wallet_balance_a">10</b> SUSHI in my wallet<br/>
	      And my friend has <b spinach:set="wallet_balance_b">0</b> SUSHI in their wallet<br/>
	      When I <b spinach:execute="result = send_amount(amount_to_send, fee_amount)">send</b> them <b spinach:set="amount_to_send">5</b> SUSHI at the fee of <b spinach:set="fee_amount">0.0001</b><br/>
	      Then my wallet should be debited the sending amount plus fee leaving me <b spinach:assert_equals="result.wallet_balance_a">4.9999</b> SUSHI<br/>
	      And my friend's wallet should have a balance of <b spinach:assert_equals="result.wallet_balance_b">5</b> SUSHI<br/>
        And there should be <b spinach:assert_equals="result.rejections">0</b> rejected transactions
      </div>

      <br/>
      <h5>Some further examples</h5>
    <br/>
    <table spinach:table_scenario="scenario 2: further examples" class="table table-striped">
      <thead class="thead-dark">
        <tr>
          <th spinach:set="wallet_balance_a">My starting balance</th>
          <th spinach:set="wallet_balance_b">My friends starting balance</th>
          <th spinach:set="amount_to_send">Amount to send</th>
          <th spinach:set="fee_amount">Fee</th>
          <th spinach:assert_equals="result.wallet_balance_a">My completed balance</th>
          <th spinach:assert_equals="result.wallet_balance_b">My friends completed balance</th>
          <th spinach:assert_equals="result.rejections">Rejected transactions</th>
          <th spinach:execute="result = send_amount(amount_to_send, fee_amount)"></th>
        </tr>
        </thead/>
        <tbody>
          <tr>
            <td>10</td>
            <td>0</td>
            <td>5</td>
            <td>0.0001</td>
            <td>4.9999</td>
            <td>5</td>
            <td>0</td>
            <td></td>
          </tr>
          <tr>
            <td>10</td>
            <td>10</td>
            <td>5</td>
            <td>0.0001</td>
            <td>4.9999</td>
            <td>15</td>
            <td>0</td>
            <td></td>
          </tr>
          <tr spinach:status="pending">
            <td>10</td>
            <td>0</td>
            <td>5</td>
            <td>1</td>
            <td>3.9999</td>
            <td>5</td>
            <td>0</td>
            <td></td>
          </tr>
          <tr>
            <td>10</td>
            <td>0</td>
            <td>20</td>
            <td>1</td>
            <td>10</td>
            <td>0</td>
            <td>1</td>
            <td></td>
          </tr>
        </tbody>
    </table>

    <br/>
    <h5>Custom Tokens</h5>
    <br/>

    <div spinach:scenario="scenario 1: sending SUSHI">
      Given I have <b spinach:set="wallet_balance_a">10</b> SUSHI in my wallet<br/>
      And I create the custom token <b spinach:set="custom_token_name">KINGS</b> with the amount <b spinach:set="custom_token_amount">100_000</b><br/>
      And my friend has <b spinach:set="wallet_balance_b">0</b> SUSHI in their wallet<br/>
      When I <b spinach:execute="result = send_amount(amount_to_send, fee_amount)">send</b> them <b spinach:set="amount_to_send">5</b> SUSHI at the fee of <b spinach:set="fee_amount">0.0001</b><br/>
      Then my wallet should be debited the sending amount plus fee leaving me <b spinach:assert_equals="result.wallet_balance_a">4.9999</b> SUSHI<br/>
      And my friend's wallet should have a balance of <b spinach:assert_equals="result.wallet_balance_b">5</b> SUSHI<br/>
      And there should be <b spinach:assert_equals="result.rejections">0</b> rejected transactions
    </div>

  </div>
</body>

</html>
